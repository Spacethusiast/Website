<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="../dist/svg-pan-zoom.js"></script>
  </head>

  <body>
    <div id="limit-div" style="width: 800px; height: 400px; border:1px solid black; ">
      <svg id="limit-svg" xmlns="http://www.w3.org/2000/svg" style="display: inline; width: inherit; min-width: inherit; max-width: inherit; height: inherit; min-height: inherit; max-height: inherit;" version="1.1">
        <image href="milkyway.jpg" height="400" width="800" />
        <a href="https://www.w3schools.com"><title>le facé troll</title><image href="galaxy.png" x="400" y="200" style="width:15px;height:15px;"  /></a>
        <a href="https://www.w3schools.com"><title>le facé troll</title><image href="galaxy.png" x="600" y="210" style="width:15px;height:15px;"  /></a>
        <a href="https://www.w3schools.com"><title>le facé troll</title><image href="galaxy.png" x="107" y="250" style="width:15px;height:15px;"  /></a>
      </svg>
    </div>


    <script>
      window.onload = function() {
        var beforePan

        beforePan = function(oldPan, newPan){
          var stopHorizontal = false
            , stopVertical = false
            , gutterWidth = 800
            , gutterHeight = 400
            , sizes = this.getSizes()
            , leftLimit = -((sizes.viewBox.x + sizes.viewBox.width) * sizes.realZoom) + gutterWidth
            , rightLimit = sizes.width - gutterWidth - (sizes.viewBox.x * sizes.realZoom)
            , topLimit = -((sizes.viewBox.y + sizes.viewBox.height) * sizes.realZoom) + gutterHeight
            , bottomLimit = sizes.height - gutterHeight - (sizes.viewBox.y * sizes.realZoom)

          customPan = {}
          customPan.x = Math.max(leftLimit, Math.min(rightLimit, newPan.x))
          customPan.y = Math.max(topLimit, Math.min(bottomLimit, newPan.y))

          return customPan
        }
        window.panZoom = svgPanZoom('#limit-svg', {
          zoomEnabled: true
        , controlIconsEnabled: true
        , fit: 1
        , center: 1
        , beforePan: beforePan
        });
      };
      
    </script>

  </body>

</html>
